const _0x40cd8e=_0x46d1;function _0x46d1(_0x411be0,_0x298544){_0x411be0=_0x411be0-0x154;const _0x2e2afc=_0x2e2a();let _0x46d1c2=_0x2e2afc[_0x411be0];return _0x46d1c2;}(function(_0x5afffe,_0x16f9bf){const _0x4b738b=_0x46d1,_0x2b790b=_0x5afffe();while(!![]){try{const _0x5cd877=parseInt(_0x4b738b(0x15b))/0x1+parseInt(_0x4b738b(0x155))/0x2+parseInt(_0x4b738b(0x179))/0x3+parseInt(_0x4b738b(0x173))/0x4+-parseInt(_0x4b738b(0x17c))/0x5*(-parseInt(_0x4b738b(0x178))/0x6)+parseInt(_0x4b738b(0x16b))/0x7+-parseInt(_0x4b738b(0x159))/0x8;if(_0x5cd877===_0x16f9bf)break;else _0x2b790b['push'](_0x2b790b['shift']());}catch(_0x1904e9){_0x2b790b['push'](_0x2b790b['shift']());}}}(_0x2e2a,0xc930a));const FIREBASE_CONFIG={'apiKey':'AIzaSyBCv_8gkQi2YPbXp0PyLZIp73NcNWMuZJ8','authDomain':'ios-cert-check-p12.firebaseapp.com','projectId':'ios-cert-check-p12','storageBucket':_0x40cd8e(0x16e),'messagingSenderId':'39487670631','appId':_0x40cd8e(0x169),'measurementId':_0x40cd8e(0x166)};function _0x2e2a(){const _0x50bf4a=['apps','70915EIVlKI','firestore','exists','ttl','FieldValue','data','random','error','expiresAt','charAt','‚ùå\x20L·ªói\x20l·∫•y\x20certificate:','G-47VMZZPJWX','floor','collectionName','1:39487670631:web:2362f3c305647d7acc87c2','doc','6682676LDsxwz','deleteCertificate','getCertificate','ios-cert-check-p12.firebasestorage.app','‚ùå\x20Kh√¥ng\x20t√¨m\x20th·∫•y\x20document\x20v·ªõi\x20ID:','now','length','set','1513576xhBxka','log','‚ùå\x20L·ªói\x20x√≥a\x20certificate:','collection','certificates','3573294RrDhRl','3806187KbGtOX','‚ùå\x20L·ªói\x20l∆∞u\x20certificate:','saveCertificate','5kiiKXz','üóëÔ∏è\x20Certificate\x20ƒë√£\x20h·∫øt\x20h·∫°n,\x20ƒëang\x20x√≥a...','fromDate','apple_api','‚úÖ\x20ƒê√£\x20l∆∞u\x20certificate\x20v·ªõi\x20ID:','delete','Timestamp','933704PQmjpb','initializeApp','increment','get','23288264IljlPm'];_0x2e2a=function(){return _0x50bf4a;};return _0x2e2a();}class FirebaseCertificateService{constructor(){const _0x46d97e=_0x40cd8e;!firebase[_0x46d97e(0x15a)]['length']&&firebase[_0x46d97e(0x156)](FIREBASE_CONFIG),this['db']=firebase[_0x46d97e(0x15c)](),this['collectionName']=_0x46d97e(0x177),this[_0x46d97e(0x15e)]=0x18*0x3c*0x3c*0x3e8;}['generateShortId'](){const _0x1bcf10=_0x40cd8e,_0x362ede='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';let _0x322642='';for(let _0x565f39=0x0;_0x565f39<0x8;_0x565f39++){_0x322642+=_0x362ede[_0x1bcf10(0x164)](Math[_0x1bcf10(0x167)](Math[_0x1bcf10(0x161)]()*_0x362ede[_0x1bcf10(0x171)]));}return _0x322642;}async[_0x40cd8e(0x17b)](_0x3cc929){const _0x3d676f=_0x40cd8e,_0x4f5fdf=this['generateShortId'](),_0x5df5f7=new Date(Date[_0x3d676f(0x170)]()+this[_0x3d676f(0x15e)]);try{const _0x3f322f={'data':_0x3cc929,'createdAt':firebase[_0x3d676f(0x15c)][_0x3d676f(0x15f)]['serverTimestamp'](),'expiresAt':firebase['firestore'][_0x3d676f(0x154)][_0x3d676f(0x17e)](_0x5df5f7),'views':0x0,'source':_0x3d676f(0x17f)};return await this['db']['collection'](this[_0x3d676f(0x168)])[_0x3d676f(0x16a)](_0x4f5fdf)[_0x3d676f(0x172)](_0x3f322f),console['log'](_0x3d676f(0x180),_0x4f5fdf),_0x4f5fdf;}catch(_0x11ffc0){console[_0x3d676f(0x162)](_0x3d676f(0x17a),_0x11ffc0);throw new Error('Kh√¥ng\x20th·ªÉ\x20l∆∞u\x20d·ªØ\x20li·ªáu\x20l√™n\x20server');}}async[_0x40cd8e(0x16d)](_0x1f26b6){const _0x3a203a=_0x40cd8e;try{const _0x22d537=await this['db']['collection'](this[_0x3a203a(0x168)])[_0x3a203a(0x16a)](_0x1f26b6)[_0x3a203a(0x158)]();if(!_0x22d537[_0x3a203a(0x15d)])return console[_0x3a203a(0x174)](_0x3a203a(0x16f),_0x1f26b6),null;const _0x48bd90=_0x22d537[_0x3a203a(0x160)](),_0x323623=new Date(),_0x219a71=_0x48bd90[_0x3a203a(0x163)]['toDate']();if(_0x323623>_0x219a71)return console[_0x3a203a(0x174)](_0x3a203a(0x17d)),await this[_0x3a203a(0x16c)](_0x1f26b6),null;return await this['db']['collection'](this[_0x3a203a(0x168)])['doc'](_0x1f26b6)['update']({'views':firebase[_0x3a203a(0x15c)]['FieldValue'][_0x3a203a(0x157)](0x1)}),console[_0x3a203a(0x174)]('‚úÖ\x20ƒê√£\x20t·∫£i\x20certificate:',_0x48bd90[_0x3a203a(0x160)]['certName']),_0x48bd90[_0x3a203a(0x160)];}catch(_0x5786fa){return console['error'](_0x3a203a(0x165),_0x5786fa),null;}}async[_0x40cd8e(0x16c)](_0x337e4c){const _0x3cc3a9=_0x40cd8e;try{await this['db'][_0x3cc3a9(0x176)](this['collectionName'])['doc'](_0x337e4c)[_0x3cc3a9(0x181)](),console[_0x3cc3a9(0x174)]('üóëÔ∏è\x20ƒê√£\x20x√≥a\x20certificate:',_0x337e4c);}catch(_0x8f44e9){console[_0x3cc3a9(0x162)](_0x3cc3a9(0x175),_0x8f44e9);}}}
