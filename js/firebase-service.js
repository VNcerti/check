const _0x176e8e=_0x9f23;(function(_0x1a6f3d,_0x25afd8){const _0x19829b=_0x9f23,_0x49a495=_0x1a6f3d();while(!![]){try{const _0x6ba1db=parseInt(_0x19829b(0xd9))/0x1+parseInt(_0x19829b(0xe0))/0x2+-parseInt(_0x19829b(0xd1))/0x3*(-parseInt(_0x19829b(0xf6))/0x4)+-parseInt(_0x19829b(0xd0))/0x5*(-parseInt(_0x19829b(0xf9))/0x6)+parseInt(_0x19829b(0xe3))/0x7*(parseInt(_0x19829b(0xdc))/0x8)+parseInt(_0x19829b(0xe1))/0x9*(parseInt(_0x19829b(0xf2))/0xa)+-parseInt(_0x19829b(0xea))/0xb;if(_0x6ba1db===_0x25afd8)break;else _0x49a495['push'](_0x49a495['shift']());}catch(_0x441fb1){_0x49a495['push'](_0x49a495['shift']());}}}(_0x3892,0x32a6b));function _0x9f23(_0xcc2ba3,_0x4b10bb){_0xcc2ba3=_0xcc2ba3-0xcd;const _0x389272=_0x3892();let _0x9f2335=_0x389272[_0xcc2ba3];return _0x9f2335;}const FIREBASE_CONFIG={'apiKey':'AIzaSyBCv_8gkQi2YPbXp0PyLZIp73NcNWMuZJ8','authDomain':_0x176e8e(0xdb),'projectId':'ios-cert-check-p12','storageBucket':_0x176e8e(0xd8),'messagingSenderId':_0x176e8e(0xee),'appId':'1:39487670631:web:2362f3c305647d7acc87c2','measurementId':_0x176e8e(0xce)};class FirebaseCertificateService{constructor(){const _0x41d9ca=_0x176e8e;!firebase[_0x41d9ca(0xdf)][_0x41d9ca(0xed)]&&firebase['initializeApp'](FIREBASE_CONFIG),this['db']=firebase[_0x41d9ca(0xf0)](),this[_0x41d9ca(0xcd)]=_0x41d9ca(0xde),this[_0x41d9ca(0xd6)]=0x18*0x3c*0x3c*0x3e8;}[_0x176e8e(0xeb)](){const _0x1cb922=_0x176e8e,_0x3008a1=_0x1cb922(0xe4);let _0x548300='';for(let _0x2b453f=0x0;_0x2b453f<0x8;_0x2b453f++){_0x548300+=_0x3008a1[_0x1cb922(0xec)](Math[_0x1cb922(0xd3)](Math[_0x1cb922(0xe9)]()*_0x3008a1[_0x1cb922(0xed)]));}return _0x548300;}async[_0x176e8e(0xd4)](_0x5d17a1){const _0x4832ff=_0x176e8e,_0x5362a6=this[_0x4832ff(0xeb)](),_0x2e65a4=new Date(Date[_0x4832ff(0xd7)]()+this[_0x4832ff(0xd6)]);try{const _0x40c1c3={'data':_0x5d17a1,'createdAt':firebase[_0x4832ff(0xf0)][_0x4832ff(0xf5)]['serverTimestamp'](),'expiresAt':firebase[_0x4832ff(0xf0)]['Timestamp'][_0x4832ff(0xdd)](_0x2e65a4),'views':0x0,'source':_0x4832ff(0xf4)};return await this['db'][_0x4832ff(0xda)](this[_0x4832ff(0xcd)])[_0x4832ff(0xe7)](_0x5362a6)['set'](_0x40c1c3),console['log']('‚úÖ\x20ƒê√£\x20l∆∞u\x20certificate\x20v·ªõi\x20ID:',_0x5362a6),_0x5362a6;}catch(_0x20cde9){console[_0x4832ff(0xef)](_0x4832ff(0xe2),_0x20cde9);throw new Error('Kh√¥ng\x20th·ªÉ\x20l∆∞u\x20d·ªØ\x20li·ªáu\x20l√™n\x20server');}}async['getCertificate'](_0x51d40c){const _0x206003=_0x176e8e;try{const _0x5c4fb4=await this['db'][_0x206003(0xda)](this[_0x206003(0xcd)])[_0x206003(0xe7)](_0x51d40c)[_0x206003(0xf7)]();if(!_0x5c4fb4['exists'])return console[_0x206003(0xd5)]('‚ùå\x20Kh√¥ng\x20t√¨m\x20th·∫•y\x20document\x20v·ªõi\x20ID:',_0x51d40c),null;const _0x1ad399=_0x5c4fb4['data'](),_0x243b8b=new Date(),_0x243bee=_0x1ad399[_0x206003(0xe8)]['toDate']();if(_0x243b8b>_0x243bee)return console[_0x206003(0xd5)]('üóëÔ∏è\x20Certificate\x20ƒë√£\x20h·∫øt\x20h·∫°n,\x20ƒëang\x20x√≥a...'),await this[_0x206003(0xf8)](_0x51d40c),null;return await this['db']['collection'](this['collectionName'])[_0x206003(0xe7)](_0x51d40c)[_0x206003(0xd2)]({'views':firebase[_0x206003(0xf0)]['FieldValue']['increment'](0x1)}),console[_0x206003(0xd5)](_0x206003(0xcf),_0x1ad399[_0x206003(0xf3)]['certName']),_0x1ad399[_0x206003(0xf3)];}catch(_0xaee98e){return console[_0x206003(0xef)](_0x206003(0xe6),_0xaee98e),null;}}async[_0x176e8e(0xf8)](_0x44c4ee){const _0x1b8d65=_0x176e8e;try{await this['db'][_0x1b8d65(0xda)](this[_0x1b8d65(0xcd)])[_0x1b8d65(0xe7)](_0x44c4ee)[_0x1b8d65(0xf1)](),console[_0x1b8d65(0xd5)](_0x1b8d65(0xe5),_0x44c4ee);}catch(_0x12b3b6){console['error']('‚ùå\x20L·ªói\x20x√≥a\x20certificate:',_0x12b3b6);}}}function _0x3892(){const _0x42e697=['random','15571160lvVYDh','generateShortId','charAt','length','39487670631','error','firestore','delete','290UteyAb','data','apple_api','FieldValue','293084pJfAtw','get','deleteCertificate','256062UAoAqE','collectionName','G-47VMZZPJWX','‚úÖ\x20ƒê√£\x20t·∫£i\x20certificate:','35xUWjXl','3rGshlL','update','floor','saveCertificate','log','ttl','now','ios-cert-check-p12.firebasestorage.app','102830sGvsbT','collection','ios-cert-check-p12.firebaseapp.com','16ikBWTv','fromDate','certificates','apps','802146njBHmV','112482QKMFYg','‚ùå\x20L·ªói\x20l∆∞u\x20certificate:','1346352YBSyXL','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','üóëÔ∏è\x20ƒê√£\x20x√≥a\x20certificate:','‚ùå\x20L·ªói\x20l·∫•y\x20certificate:','doc','expiresAt'];_0x3892=function(){return _0x42e697;};return _0x3892();}
